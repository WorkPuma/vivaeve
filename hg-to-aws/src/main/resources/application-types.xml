<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="fhir-bundle" format="json">
      <types:shape format="weave" example="examples/fhir-bundle.json"><![CDATA[%dw 2.0

type fhir_bundle = {|
  resourceType: String, 
  meta: {| profile: Array<String> |}, 
  "type": String, 
  total: Number {"typeId": "int"}, 
  link: Array<{|    relation: String,     url: String  |}>, 
  entry: Array<{|    fullUrl: String,     resource: {| resourceType: String |}  |}>
|} {"example": "{\\\"resourceType\\\":\\\"Bundle\\\",\\\"meta\\\":{\\\"profile\\\":[\\\"https:\\/\\/healthgorilla.com\\/fhir\\/StructureDefinition\\/hg-stateless-bundle\\\"]},\\\"type\\\":\\\"searchset\\\",\\\"total\\\":1398,\\\"link\\\":[{\\\"relation\\\":\\\"self\\\",\\\"url\\\":\\\"https:\\/\\/sandbox.healthgorilla.com\\/fhir\\/R4\\/Patient\\/33238a6487e2a7fefd0b1d83\\/\$everything?_format=json&_since=2018-01-01&_count=200\\\"},{\\\"relation\\\":\\\"first\\\",\\\"url\\\":\\\"https:\\/\\/sandbox.healthgorilla.com\\/fhir\\/R4\\/Patient\\/33238a6487e2a7fefd0b1d83\\/\$everything?_format=json&_since=2018-01-01&_offset=0&_count=200\\\"},{\\\"relation\\\":\\\"last\\\",\\\"url\\\":\\\"https:\\/\\/sandbox.healthgorilla.com\\/fhir\\/R4\\/Patient\\/33238a6487e2a7fefd0b1d83\\/\$everything?_format=json&_since=2018-01-01&_offset=1200&_count=200\\\"},{\\\"relation\\\":\\\"next\\\",\\\"url\\\":\\\"https:\\/\\/sandbox.healthgorilla.com\\/fhir\\/R4\\/Patient\\/33238a6487e2a7fefd0b1d83\\/\$everything?_format=json&_since=2018-01-01&_offset=200&_count=200\\\"}],\\\"entry\\\":[{\\\"fullUrl\\\":\\\"https:\\/\\/sandbox.healthgorilla.com\\/fhir\\/R4\\/Patient\\/33238a6487e2a7fefd0b1d83\\\",\\\"resource\\\":{\\\"resourceType\\\":\\\"Patient\\\"}}]}"}

]]></types:shape>
    </types:type>
    <types:type name="patient-cache-info" format="json">
      <types:shape format="weave" example="examples/patient-cache-info.json"><![CDATA[%dw 2.0

type patient_cache_info = {| LastHarvestDateTime: String |} {"example": "{\\\"LastHarvestDateTime\\\":\\\"2023-08-01T13:01:00Z\\\"}"}

]]></types:shape>
    </types:type>
    <types:type name="CommonUtilitiesApiSendLogs" format="json">
      <types:shape format="weave" example="api/com/herselfhealth/commonutilities/sendlogs.json"><![CDATA[%dw 2.0

type CommonUtilitiesApiSendLogs = {|
  AppName: String, 
  FlowName: String, 
  LogMessage: String
|} {"example": "{\\\"AppName\\\":\\\"elation-to-healthgorilla\\\",\\\"FlowName\\\":\\\"implementation\\\",\\\"LogMessage\\\":\\\"hi this is from dummy message illustrate tls demo\\\"}"}

]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#95400a65-2930-42e1-8601-aa2d40b3f706">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="fhir-bundle"/>
        </types:message>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#47973e10-1c11-4626-8dc8-07912a85aab0">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="patient-cache-info"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#71344b08-7b15-4937-b95b-22c7eb329928">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="CommonUtilitiesApiSendLogs"/>
        </types:message>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>